{"version":3,"sources":["DarcoContext.js","helpers/invertImage.js","components/LoadingModal.js","components/PDFBuilder.js","components/PreviewPanel.js","svgs/page.svg","styles/constants.js","styles/index.js","components/SegmentedPicker.js","svgs/darkmode.svg","components/ThemePicker.js","components/LoadingBar.js","components/SettingsPanel.js","svgs/download.svg","svgs/share.svg","components/Steps.js","components/StatusPanel.js","App.js","index.js"],"names":["Quality","high","low","Theme","grey","name","convert","contrast","invert","hueRotate","classic","defaultState","pdf","step","info","images","completion","dimensions","options","quality","theme","ReducerTypes","reducer","state","action","currOptions","type","data","progress","alert","DarcoContext","React","createContext","useDarco","context","useContext","undefined","Error","DarcoProvider","props","useReducer","value","dispatch","Provider","children","invertImage","imageURL","canvas","a","Promise","resolve","reject","img","Image","crossOrigin","onload","themeSettings","contrastAmount","rotateAmount","invertAmount","ctx","getContext","width","height","drawImage","imageData","getImageData","i","length","Math","abs","ma","mb","mc","md","me","mf","mg","mh","mi","th","thr","floor","d","b","place","y","x","ir","ig","ib","putImageData","toDataURL","src","ModalContainer","styled","div","LoadingModal","PDFBuilder","imageArray","orientation","doc","jsPDF","addPage","setPage","imgData","addImage","documentName","window","webkit","messageHandlers","getDocumentName","postMessage","concat","base64","fileReader","FileReader","blobPDF","Blob","output","readAsDataURL","fileLoadedEvent","target","result","save","_rect","_rect2","_rect3","_rect4","_rect5","_path","_rect6","Preview","cMapUrl","cMapPacked","isConverting","texts","PreviewPanel","useState","numPages","setNumPages","completedImages","setCompletedImages","docRef","useRef","useEffect","buildPDF","handleConvert","numActualImages","forEach","e","stringLength","ceil","getDataURL","index","_pageIndex","then","className","file","onLoadSuccess","_pdfInfo","inputRef","pageNumber","originalWidth","originalHeight","renderAnnotationLayer","Array","from","_","scale","onGetTextSuccess","canvasRef","canvasEl","storeCanvasRef","onRenderSuccess","primary","success","loading","Title","h1","Button","button","secondary","SidePanel","PickerContainer","OptionContainer","Option","handleSelect","onClick","SelectedOption","offset","SegmentedPicker","defaultSelected","onSelectionChange","selected","setSelected","map","uuidv4","_extends","Object","assign","arguments","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgPage","_ref","svgRef","title","titleId","viewBox","fill","xmlns","ref","id","rx","stroke","strokeOpacity","ForwardRef","PagePreview","ThemeOptionContainer","ThemeOption","style","display","flexDirection","alignItems","marginTop","textTransform","ThemePickerContainer","ThemePicker","SvgDarkmode","LoadingBarWrapper","LoadingBarInner","LoadingBar","DataTitle","h3","bottomSpaced","DataSubTitle","h4","DataSection","SettingsPanel","inputFile","onFileChange","files","gridArea","maxWidth","current","click","accept","onChange","round","size","Date","lastModified","toLocaleDateString","High","Low","SvgDownload","SvgShare","buttonTexts","Steps","Step","finished","StepTextWrapper","StepTitle","StepDescription","isLoading","ButtonWrapper","p","StatusPanel","AppContainer","App","setSize","useLayoutEffect","getBoundingClientRect","useResizeObserver","entry","contentRect","useSize","recieveDataFromSwift","cx","cy","r","gradientUnits","gradientTransform","stopColor","stopOpacity","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a3b4dd4b.chunk.js","sourcesContent":["import React from 'react';\n\nexport const Quality = {\n    high: 0.7,\n    low: 0.5\n}\n\nexport const Theme = {\n    grey: {\n        name: 'slate',\n        convert: 'invert(0.8) contrast(1.2) hue-rotate(135rad)',\n        contrast: 1.2,\n        invert: 0.8,\n        hueRotate: 0.4,\n    },\n    classic: {\n        name: 'classic',\n        convert: 'invert(1) hue-rotate(125rad)',\n        contrast: 1,\n        invert: 1,\n        hueRotate: 0.5,\n    },\n}\n\nconst defaultState = {\n    pdf: null,\n    step: 0,\n    info: null,\n    images: null,\n    completion: 0,\n    dimensions: [],\n    options: {\n        quality: Quality.high,\n        theme: Theme.classic\n    }\n}\nexport const ReducerTypes = {\n    Idle: 0,\n    Ready: 1,\n    Loading: 2,\n    Download: 3,\n    ImagesConverted: 'images',\n    Progress: 'ratio',\n    O_Quality: 'quality',\n    O_Theme: 'theme',\n    DocumentDimensions: 'dimensions'\n}\nfunction reducer(state, action) {\n    let currOptions = state.options;\n    switch (action.type) {\n        case ReducerTypes.Idle:\n            return { ...state, pdf: action.data, images: null }\n        case ReducerTypes.Ready:\n            return { ...state, info: action.data, step: ReducerTypes.Ready, completion: 0}\n        case ReducerTypes.Loading:\n            return { ...state, step: ReducerTypes.Loading}\n        case ReducerTypes.ImagesConverted:\n            return { ...state, images: action.images, step: ReducerTypes.Download }\n        case ReducerTypes.DocumentDimensions:\n            return { ...state, dimensions: action.data }\n        case ReducerTypes.Progress:\n            return { ...state, completion: (state.progress !== 1) ? action.data : 1 }\n        case ReducerTypes.O_Quality:\n            currOptions.quality = action.data\n            return { ...state, options: currOptions }\n        case ReducerTypes.O_Theme:\n            currOptions.theme = action.data\n            return { ...state, options: currOptions }\n        default: {\n            alert(`Tried doing ${action.type}`)\n        }\n\n    }\n}\n\nexport const DarcoContext = React.createContext();\nexport const useDarco = () => {\n    const context = React.useContext(DarcoContext)\n    if (context === undefined)\n        throw new Error('context must be used within a DarcoProvider')\n    return context\n}\n\nconst DarcoProvider = props => {\n    const [state, dispatch] = React.useReducer(reducer, defaultState)\n    const value = { state, dispatch }\n    return (\n        <DarcoContext.Provider value={value}>\n            {props.children}\n        </DarcoContext.Provider>\n    );\n}\n\nexport default DarcoProvider;\n","// Contrast amount\n    //  2   === Classic\n    //  1.2 === Space Grey\n\nimport { Theme } from \"../DarcoContext\";\n\nexport default async function invertImage(imageURL, canvas, theme, quality = 0.7) {\n    return new Promise((resolve, reject) => {\n        let img = new Image();\n        img.crossOrigin = \"\";\n        img.onload = draw;\n        img.src = imageURL;\n\n        /**\n         *  Draws image onto canvas and inverts the image data.\n         *  Had to manually input the invert and hue rotate here\n         *  because webkit does not support canvas draw filters.\n         */\n        function draw() {\n            const themeSettings = Theme[theme];\n            const contrastAmount = themeSettings.contrast;\n            const rotateAmount = themeSettings.hueRotate;\n            const invertAmount = themeSettings.invert;\n\n            let ctx = canvas.getContext(\"2d\");\n            canvas.width = img.width;\n            canvas.height = img.height;\n            ctx.drawImage(img, 0, 0);\n            let imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);\n            let data = imageData.data;\n            for (let i = 0; i < data.length; i += 4) {\n                data[i + 2] = Math.abs(data[i + 2] - 255 * invertAmount);\n                data[i + 0] = Math.abs(data[i + 0] - 255 * invertAmount);\n                data[i + 1] = Math.abs(data[i + 1] - 255 * invertAmount);\n            }\n            const { length } = data;\n            for (let i = 0; i < length; i += 4) {\n                data[i + 0] = ((((data[i + 0] / 255) - .5) * contrastAmount) + .5) * 255;\n                data[i + 1] = ((((data[i + 1] / 255) - .5) * contrastAmount) + .5) * 255;\n                data[i + 2] = ((((data[i + 2] / 255) - .5) * contrastAmount) + .5) * 255;\n            }\n            \n            const h = (rotateAmount % 1 + 1) % 1; // wraps the angle to unit interval, even when negative\n            const th = h * 3;\n            const thr = Math.floor(th);\n            const d = th - thr;\n            const b = 1 - d;\n            let ma, mb, mc;\n            let md, me, mf;\n            let mg, mh, mi;\n\n            switch (thr) {\n                case 0:\n                    ma = b;\n                    mb = 0;\n                    mc = d;\n                    md = d;\n                    me = b;\n                    mf = 0;\n                    mg = 0;\n                    mh = d;\n                    mi = b;\n                    break;\n                case 1:\n                    ma = 0;\n                    mb = d;\n                    mc = b;\n                    md = b;\n                    me = 0;\n                    mf = d;\n                    mg = d;\n                    mh = b;\n                    mi = 0;\n                    break;\n                case 2:\n                    ma = d;\n                    mb = b;\n                    mc = 0;\n                    md = 0;\n                    me = d;\n                    mf = b;\n                    mg = b;\n                    mh = 0;\n                    mi = d;\n                    break;\n                default:\n                    break;\n            }\n\n            let place = 0;\n            for (let y = 0; y < canvas.height; ++y) {\n                for (let x = 0; x < canvas.width; ++x) {\n                    place = 4 * (y * canvas.width + x);\n                    const ir = data[place + 0];\n                    const ig = data[place + 1];\n                    const ib = data[place + 2];\n                    data[place + 0] = Math.floor(ma * ir + mb * ig + mc * ib);\n                    data[place + 1] = Math.floor(md * ir + me * ig + mf * ib);\n                    data[place + 2] = Math.floor(mg * ir + mh * ig + mi * ib);\n                }\n            }\n           \n            ctx.putImageData(imageData, 0, 0);\n            resolve(canvas.toDataURL('image/jpeg', quality));\n        }\n    })\n}","import React from 'react'\nimport styled from 'styled-components';\nimport { FadeLoader } from 'react-spinners'\nconst ModalContainer = styled.div`\n    width: 13rem;\n    height: 13rem;\n    color: black;\n    z-index: 99;\n    position: absolute;\n    top: 30%;  /* position the top  edge of the element at the middle of the parent */\n    left: 50%; /* position the left edge of the element at the middle of the parent */\n    border-radius: 1rem;\n    transform: translate(-50%, -30%);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-direction: column;\n`;\nexport default function LoadingModal() {\n    return (\n        <ModalContainer>\n            <FadeLoader/>\n        </ModalContainer>\n    )\n}\n","import jsPDF from 'jspdf';\n/**\n *  Takes all of the inverted images and returns them back into a pdf\n * @param imageArray: array of inverted images\n * @param orientation: 'p' for portrait, 'l' for landscape\n */\nexport default async function PDFBuilder(imageArray, data) {\n    const orientation = data.dimensions[0] < data.dimensions[1] ? 'p' : 'l';\n    return new Promise(resolve => {\n        let doc = new jsPDF(orientation, 'px', [data.dimensions[0], data.dimensions[1]], true);\n        for (let i = 0; i < imageArray.length - 1; i++) {\n            doc.addPage();\n        }\n        for (let i = 0; i < imageArray.length; i++) {\n            doc.setPage(i + 1);\n            const imgData = imageArray[i];\n            if (imgData)\n                doc.addImage(imgData, 0, 0, data.dimensions[0], data.dimensions[1], `page ${i+1}`);\n        }\n        let documentName = data.pdf.name;\n\n        if (window.webkit) {\n            window.webkit.messageHandlers.getDocumentName.postMessage(documentName.concat(\".pdf\"))\n        }\n\n        let fileReader = new FileReader()\n        let base64;\n        let blobPDF = new Blob([doc.output('blob')], { type: 'application/pdf' });\n        fileReader.readAsDataURL(blobPDF);\n        fileReader.onload = function (fileLoadedEvent) {\n            base64 = fileLoadedEvent.target.result;\n            resolve(base64);\n            if (!window.webkit)\n                doc.save(documentName.concat(\".pdf\"));\n        }\n\n    });\n}","import styled from 'styled-components';\nimport { Document, Page } from 'react-pdf/dist/esm/entry.webpack';\nimport { ReducerTypes, useDarco } from '../DarcoContext';\nimport { useEffect, useRef, useState } from 'react';\nimport invertImage from '../helpers/invertImage';\nimport LoadingModal from './LoadingModal'\nimport PDFBuilder from './PDFBuilder';\n\n\nconst Preview = styled.div`\n    grid-area: preview;\n    display: flex;\n    justify-content: center;\n    position: relative;\n`\nconst options = {\n    cMapUrl: 'cmaps/',\n    cMapPacked: true,\n};\n\nlet isConverting = false;\nlet children = []\nlet images = []\nlet texts = []\n\nconst PreviewPanel = ({ width, height }) => {\n    const { state, dispatch } = useDarco();\n    const [numPages, setNumPages] = useState(0);\n    const [completedImages, setCompletedImages] = useState([]);\n\n    const docRef = useRef(null);\n\n    function onDocumentLoadSuccess(pdf) {\n        setNumPages(pdf._pdfInfo.numPages);\n        dispatch({ type: ReducerTypes.Ready, data: pdf._pdfInfo })\n    }\n\n    useEffect(() => {\n        if (state.step <= ReducerTypes.Ready && completedImages.length > 0) {\n            setCompletedImages([])\n            children = []\n            images = []\n            isConverting = false;\n        }\n    }, [completedImages, state]);\n\n    if (state.pdf === null)\n        return null\n\n    const storeCanvasRef = (canvasEl, index) => children[index] = canvasEl\n    \n    const buildPDF = async () => {\n        isConverting = true;\n        await PDFBuilder(images, state);\n        dispatch({ type: ReducerTypes.ImagesConverted, images: images });\n    }\n    \n    const handleConvert = () => {\n        let numActualImages = 0;\n        images.forEach(e => {\n            let stringLength = e.length - 'data:image/jpeg;base64,'.length;\n            let sizeInBytes = 4 * Math.ceil((stringLength / 3)) * 0.5624896334383812;\n            if (sizeInBytes > 1000) numActualImages++;\n        })\n        if (numActualImages === state.info.numPages && !isConverting) {\n            buildPDF()\n        }\n    }\n\n    const getDataURL = async e => {\n        const index = e._pageIndex;\n        invertImage(children[index]?.toDataURL(), children[index], state.options.theme, state.options.quality).then(\n            e => {\n                images[index] = e;\n                if (images.length === numPages) \n                    handleConvert();\n            }\n        )\n    }\n    return (\n        <Preview>\n            <Document\n                className={'pdf'}\n                file={state.pdf}\n                onLoadSuccess={onDocumentLoadSuccess}\n                options={options}\n                inputRef={docRef}\n            >\n                {\n                    width < 1000 ?\n                        <Page\n                            key={`page_${0}`}\n                            pageNumber={0 + 1}\n                            width={width / 2}\n                            className={[state.options.theme, 'page']}\n                            onLoadSuccess={e => dispatch({ type: ReducerTypes.DocumentDimensions, data: [e.originalWidth, e.originalHeight] })}\n                            renderAnnotationLayer={false}\n                        />\n                        :\n                        <Page\n                            key={`page_${0}`}\n                            pageNumber={0 + 1}\n                            height={height}\n                            className={[state.options.theme, 'page']}\n                            onLoadSuccess={e => dispatch({ type: ReducerTypes.DocumentDimensions, data: [e.originalWidth, e.originalHeight] })}\n                            renderAnnotationLayer={false}\n                        />\n                }\n                {\n                    state.step === ReducerTypes.Loading &&\n                    Array.from(\n                        new Array(numPages),\n                        (_, index) => (\n                            <Page\n                                key={`page_${index + 1}`}\n                                width={state.dimensions[0]}\n                                height={state.dimensions[1]}\n                                scale={2}\n                                pageNumber={index + 1}\n                                onGetTextSuccess={e => texts[index] = e}\n                                className={['hidden']}\n                                canvasRef={e => storeCanvasRef(e, index)}\n                                onRenderSuccess={e => getDataURL(e)}\n\n                            />\n                        ),\n                    )\n                }\n            </Document>\n            {((state.step === ReducerTypes.Loading && width < 1000)) &&\n                <LoadingModal />\n            }\n        </Preview>\n    );\n}\n\nexport default PreviewPanel;\n","var _rect, _rect2, _rect3, _rect4, _rect5, _path, _rect6;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgPage(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 125,\n    height: 160,\n    viewBox: \"0 0 125 160\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _rect || (_rect = /*#__PURE__*/React.createElement(\"rect\", {\n    width: 125,\n    height: 159.774,\n    rx: 5,\n    fill: \"white\"\n  })), _rect2 || (_rect2 = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 0.5,\n    y: 0.5,\n    width: 124,\n    height: 158.774,\n    rx: 4.5,\n    stroke: \"#6F6F6F\",\n    strokeOpacity: 0.2\n  })), _rect3 || (_rect3 = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 18,\n    y: 108,\n    width: 83.6466,\n    height: 4.69925,\n    rx: 2.34962,\n    fill: \"black\"\n  })), _rect4 || (_rect4 = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 18,\n    y: 30,\n    width: 83.6466,\n    height: 4.69925,\n    rx: 2.34962,\n    fill: \"black\"\n  })), _rect5 || (_rect5 = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 18.1431,\n    y: 75.9624,\n    width: 83.6466,\n    height: 4.69925,\n    rx: 2.34962,\n    fill: \"black\"\n  })), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M18 126.35C18 125.052 19.052 124 20.3496 124H99.297C100.595 124 101.647 125.052 101.647 126.35C101.647 127.647 100.595 128.699 99.297 128.699H20.3496C19.052 128.699 18 127.647 18 126.35Z\",\n    fill: \"black\"\n  })), _rect6 || (_rect6 = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 18.1431,\n    y: 91.9624,\n    width: 83.6466,\n    height: 4.69925,\n    rx: 2.34962,\n    fill: \"black\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPage);\nexport default __webpack_public_path__ + \"static/media/page.10b16866.svg\";\nexport { ForwardRef as ReactComponent };","// Text colors\nexport const primary = 'hsl(0, 100%,100%)';\n\n// Background colors\nexport const disabled = 'hsla(240, 1%, 39%, 0.4)';\nexport const tertiary = 'rgba(118, 118, 128, 0.24)';\nexport const accent = 'hsl(248, 84%, 60%)';\nexport const success = 'hsl(129, 67%, 52%)';\nexport const loading = 'rgba(255, 149, 0, 1)';\nexport const gradient = `linear-gradient(249.32deg, #7328D2 7.45%, #5200FF 100%)`;\n","import styled from 'styled-components'\nimport { accent, disabled } from './constants';\n\nexport const Title = styled.h1`\n    font-size: 4.5rem;\n    font-weight: 700;\n    line-height: 80px;\n    letter-spacing: -0.04em;\n    text-align: left;\n    margin-bottom: auto;\n    grid-area: 'title';\n    @media (max-width: 1000px) {\n        font-size: 3.5rem;\n    }\n`\nexport const Button = styled.button`\n    all: unset;\n    background: ${accent};\n    text-align: center;\n    letter-spacing: -0.04rem;\n    padding: 0.7rem 7rem;\n    border-radius: 0.5rem;\n    font-weight: 600;\n    line-height: 1.5rem;\n    ${props => props.secondary && `background: ${disabled};`}\n    -webkit-tap-highlight-color: transparent;\n    user-select: none;\n`\n\nexport const SidePanel = styled.div`\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n    justify-content: space-between;\n    & > * {\n        transition: all 0.5s ease;\n    }\n`","import React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport { v4 as uuidv4 } from 'uuid';\n\nimport {tertiary} from '../styles/constants'\n\nconst PickerContainer = styled.div`\n    display: flex;\n    background: grey;\n    justify-content: space-between;\n    background: ${tertiary};\n    border-radius: 8.91px;\n    position: relative;\n`;\nconst OptionContainer = styled.div`\n    display: grid;\n    place-items: center;\n    flex-grow: 1;\n    padding: 0.7rem;\n    & > * {\n        z-index: 99;\n    }\n`;\nconst Option = ({ name, handleSelect }) => {\n    return (\n        <OptionContainer onClick={() => handleSelect()}>\n            <p>{name}</p>\n        </OptionContainer>\n    )\n}\nconst SelectedOption = styled.div`\n    background: #636366;\n    border: 0.5px solid rgba(0, 0, 0, 0.04);\n    border-radius: 6.93px;\n    position: absolute;\n    height: 100%;\n    width: 50%;\n    left: ${props => `${props.offset}%` };\n    transition: all 0.5s ease;\n`\nconst SegmentedPicker = ({ options, defaultSelected = 0, onSelectionChange = e => {}}) => {\n    const [selected, setSelected] = useState(defaultSelected);\n    useEffect(() => {\n        onSelectionChange(selected)\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [selected])\n    return (\n        <PickerContainer>\n            {\n                options.map((e, i) => <Option name={e} key={uuidv4()} handleSelect={() => setSelected(i)} />)\n            }\n            <SelectedOption offset={selected === 0 ? 0 : selected * 100 / options.length}/>\n        </PickerContainer>\n    );\n}\n\nexport default SegmentedPicker;\n","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgDarkmode(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 41,\n    height: 41,\n    viewBox: \"0 0 41 41\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M20.5 40.3203C31.3984 40.3203 40.4219 31.2773 40.4219 20.3984C40.4219 9.5 31.3789 0.476562 20.4805 0.476562C9.60156 0.476562 0.578125 9.5 0.578125 20.3984C0.578125 31.2773 9.62109 40.3203 20.5 40.3203ZM20.5 37C11.2812 37 3.91797 29.6172 3.91797 20.3984C3.91797 11.1797 11.2617 3.79688 20.4805 3.79688C29.6992 3.79688 37.082 11.1797 37.1016 20.3984C37.1211 29.6172 29.7188 37 20.5 37ZM26.6133 24.7344C20.6953 24.7344 16.9062 21.0234 16.9062 15.1055C16.9062 13.875 17.2383 12.1367 17.5898 11.2188C17.707 10.9648 17.707 10.8086 17.707 10.7109C17.707 10.418 17.4922 10.0859 17.082 10.0859C16.9453 10.0859 16.6914 10.1055 16.4375 10.2031C12.3945 11.8047 9.67969 16.1797 9.67969 20.7695C9.67969 27.1953 14.6016 31.7852 21.0078 31.7852C25.7148 31.7852 29.7578 28.8945 31.1445 25.3594C31.2617 25.1055 31.2812 24.8516 31.2812 24.7734C31.2812 24.3633 30.9492 24.0898 30.6367 24.0898C30.5 24.0898 30.3633 24.1094 30.168 24.168C29.3477 24.4609 27.9609 24.7344 26.6133 24.7344Z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgDarkmode);\nexport default __webpack_public_path__ + \"static/media/darkmode.adfd070b.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport { Theme } from '../DarcoContext';\nimport { ReactComponent as Page } from '../svgs/page.svg';\n\nconst PagePreview = styled.div`\n    filter: ${props => props.convert};\n    `\nconst ThemeOptionContainer = styled.div`\n      ${props => props.selected && `background-color: rgba(255, 255, 255, 0.06);`};\n      flex-grow: 0.5;\n      border-radius: 8.91px;\n      width: 50%;\n      & > * {\n          /* height: 100%; */\n          padding: 1rem;\n      };\n      \n    `;\nconst ThemeOption = ({ theme, selected, handleSelect }) => {\n    return (\n        <ThemeOptionContainer selected={selected} onClick={handleSelect}>\n            <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center' }}>\n                <PagePreview convert={theme.convert}>\n                    <Page />\n                </PagePreview>\n                <p style={{ marginTop: '0.4rem', textTransform: 'capitalize' }}>{theme.name}</p>\n            </div>\n        </ThemeOptionContainer>\n    )\n}\nconst ThemePickerContainer = styled.div`\n    display: flex;\n    justify-content: space-between;\n    & > * {\n        transition: all 0.3s ease;\n    };\n`;\n\nconst ThemePicker = ({onSelectionChange}) => {\n    const [selected, setSelected] = useState(Object.keys(Theme)[0]);\n    \n    useEffect(() => {\n        onSelectionChange(selected)\n    }, [onSelectionChange, selected])\n    return (\n        <ThemePickerContainer>\n            {\n                Object.keys(Theme).map(e => <ThemeOption theme={Theme[e]} selected={e === selected} handleSelect={() => setSelected(e)} key={e}/>)\n            }\n        </ThemePickerContainer>\n    );\n}\n\nexport default ThemePicker;\n","import React from 'react'\nimport styled from 'styled-components';\nimport { gradient } from '../styles/constants';\nconst LoadingBarWrapper = styled.div`\n    width: 100%;\n    border-radius: 5rem;\n    height: 1rem;\n    background-color: whitesmoke;\n    position: relative;\n    transition: all 1s ease;\n    overflow: hidden;\n`;\n\nconst LoadingBarInner = styled.div`\n    transition: all 0.5s ease;\n    /* width: ${props => props.completion}%; */\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    left: 0;\n    top: 0;\n    background: ${gradient};\n    border-radius: 5rem;\n\n`\nexport default function LoadingBar() {\n    return (\n        <>\n            <p><strong>One moment please...</strong></p>\n            <br/>\n            <LoadingBarWrapper>\n                <LoadingBarInner completion={100} />\n            </LoadingBarWrapper>\n        </>\n    )\n}\n","import React, { useRef } from 'react';\nimport styled from 'styled-components';\nimport { useDarco, ReducerTypes, Quality } from '../DarcoContext';\nimport { Button, SidePanel } from '../styles'\nimport SegmentedPicker from './SegmentedPicker';\nimport ThemePicker from './ThemePicker';\nimport { ReactComponent as DarkMode } from '../svgs/darkmode.svg';\nimport LoadingBar from './LoadingBar'\n\n\nconst DataTitle = styled.h3`\n    font-size: 1.4rem;\n    letter-spacing: -0.01rem;\n    max-width: 15ch;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    ${props => props.bottomSpaced && `margin-bottom: 0.5rem;`}\n`\nconst DataSubTitle = styled.h4`\n    font-size: 1rem;\n    color: rgba(153, 153, 153, 1);\n`\nconst DataSection = styled.div`\n    margin-bottom: 1.5rem;\n`\nconst SettingsPanel = () => {\n    const inputFile = useRef(null)\n    const { state, dispatch } = useDarco()\n\n    const options = ['High', 'Low'];\n    if (!state.info)\n        return null\n\n    const updateTheme = e => {\n        if (state.options.theme !== e)\n            dispatch({ type: ReducerTypes.O_Theme, data: e })\n    }\n\n    const updateQuality = e => {\n        if (state.options.quality !== e)\n            dispatch({ type: ReducerTypes.O_Quality, data: e === 0 ? Quality.High : Quality.Low })\n    }\n\n    const onFileChange = e => dispatch({ type: ReducerTypes.Idle, data: e.target.files[0] })\n\n    if (state.step >= ReducerTypes.Loading)\n        return (\n            <SidePanel style={{ gridArea: `settings`}}>\n                <DataSection >\n                    <DataSection>\n                        <div className=\"h\">\n                            <DataTitle style={{maxWidth: `25ch`}}>{state.pdf.name}</DataTitle>\n                        </div>\n                    </DataSection>\n                    <div className=\"h\">\n                        <DarkMode fill=\"white\" />\n                        <DataTitle bottomSpaced>{state.step === ReducerTypes.Download ? \"Converted PDF ðŸŽ‰\" : \"Converting PDF\"}</DataTitle>\n                    </div>\n                </DataSection>\n                {state.step !== ReducerTypes.Download && <LoadingBar/>}\n                <Button secondary onClick={() => inputFile.current.click()} style={{ marginTop: 'auto' }}>Select New File</Button>\n                <input type=\"file\" accept=\"application/pdf\" ref={inputFile} style={{ display: 'none' }} onChange={onFileChange} />\n            </SidePanel>\n        )\n\n\n    return (\n        <SidePanel style={{ gridArea: `settings` }}>\n            <DataSection>\n                <div className=\"h\">\n                    <DataTitle>{state.pdf.name}</DataTitle>\n                    <h3>{Math.round(state.pdf.size / 1024)} Kb</h3>\n                </div>\n                <div className=\"h\">\n                    <DataSubTitle>Last modified: {new Date(state.pdf.lastModified).toLocaleDateString()} </DataSubTitle>\n                    <DataSubTitle>{state.info.numPages} page{state.info.numPages > 1 && 's'}</DataSubTitle>\n                </div>\n            </DataSection>\n            <DataSection>\n                <div className=\"h\">\n                    <DataTitle bottomSpaced>Quality</DataTitle>\n                </div>\n                <SegmentedPicker\n                    options={options}\n                    defaultSelected={state.options.quality === Quality.High ? 0 : 1}\n                    onSelectionChange={updateQuality}\n                />\n            </DataSection>\n            <DataSection style={{ height: '33%' }}>\n                <div className=\"h\">\n                    <DataTitle bottomSpaced>Theme</DataTitle>\n                </div>\n                <ThemePicker onSelectionChange={updateTheme} />\n            </DataSection>\n            <Button secondary onClick={() => inputFile.current.click()} style={{ marginTop: 'auto' }}>Select New File</Button>\n            <input type=\"file\" accept=\"application/pdf\" ref={inputFile} style={{ display: 'none' }} onChange={onFileChange} />\n        </SidePanel>\n    )\n}\n\n\nexport default SettingsPanel;\n","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgDownload(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 36,\n    height: 43,\n    viewBox: \"0 0 36 43\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M18 29.6523C18.3906 29.6523 18.7422 29.5352 19.1328 29.1445L25.7344 22.7578C26.0273 22.4648 26.1836 22.1523 26.1836 21.7422C26.1836 20.9414 25.5781 20.375 24.7578 20.375C24.3867 20.375 23.9766 20.5312 23.7031 20.8438L20.7539 23.9883L19.4258 25.375L19.543 22.4453V1.85938C19.543 1.03906 18.8398 0.335938 18 0.335938C17.1602 0.335938 16.4375 1.03906 16.4375 1.85938V22.4453L16.5742 25.375L15.2461 23.9883L12.2773 20.8438C12.0039 20.5312 11.5938 20.375 11.2031 20.375C10.4023 20.375 9.79688 20.9414 9.79688 21.7422C9.79688 22.1523 9.97266 22.4648 10.2656 22.7578L16.8672 29.1445C17.2578 29.5352 17.6094 29.6523 18 29.6523ZM6.78906 42.5039H29.1914C33.2734 42.5039 35.3242 40.4727 35.3242 36.4492V16.957C35.3242 12.9336 33.2734 10.9023 29.1914 10.9023H23.7422V14.0469H29.1328C31.0664 14.0469 32.1797 15.1016 32.1797 17.1328V36.2734C32.1797 38.3047 31.0664 39.3594 29.1328 39.3594H6.82812C4.875 39.3594 3.80078 38.3047 3.80078 36.2734V17.1328C3.80078 15.1016 4.875 14.0469 6.82812 14.0469H12.2383V10.9023H6.78906C2.70703 10.9023 0.65625 12.9336 0.65625 16.957V36.4492C0.65625 40.4727 2.70703 42.5039 6.78906 42.5039Z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgDownload);\nexport default __webpack_public_path__ + \"static/media/download.f96d8e9e.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgShare(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 39,\n    viewBox: \"0 0 32 39\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M16 25.3096C16.7349 25.3096 17.3501 24.6943 17.3501 23.9766V6.42529L17.2476 3.86182L18.4097 5.0752L20.9902 7.84375C21.2295 8.11719 21.5884 8.25391 21.9131 8.25391C22.6309 8.25391 23.1606 7.74121 23.1606 7.04053C23.1606 6.68164 23.0239 6.4082 22.7676 6.15186L16.9912 0.580566C16.6494 0.23877 16.3418 0.119141 16 0.119141C15.6582 0.119141 15.3506 0.23877 15.0088 0.580566L9.23242 6.15186C8.97607 6.4082 8.82227 6.68164 8.82227 7.04053C8.82227 7.74121 9.35205 8.25391 10.0527 8.25391C10.3945 8.25391 10.7534 8.11719 10.9927 7.84375L13.5903 5.0752L14.7524 3.86182L14.6328 6.42529V23.9766C14.6328 24.6943 15.2651 25.3096 16 25.3096ZM6.19043 38.6909H25.7925C29.3643 38.6909 31.1587 36.9136 31.1587 33.3931V16.3374C31.1587 12.8169 29.3643 11.0396 25.7925 11.0396H21.0244V13.791H25.7412C27.4331 13.791 28.4072 14.7139 28.4072 16.4912V33.2393C28.4072 35.0166 27.4331 35.9395 25.7412 35.9395H6.22461C4.51562 35.9395 3.57568 35.0166 3.57568 33.2393V16.4912C3.57568 14.7139 4.51562 13.791 6.22461 13.791H10.9585V11.0396H6.19043C2.61865 11.0396 0.824219 12.8169 0.824219 16.3374V33.3931C0.824219 36.9136 2.61865 38.6909 6.19043 38.6909Z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgShare);\nexport default __webpack_public_path__ + \"static/media/share.bd919f0e.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useRef } from 'react';\nimport styled from 'styled-components';\n\nimport { Button } from '../styles';\nimport { ReactComponent as Download } from '../svgs/download.svg';\nimport { ReactComponent as DarkMode } from '../svgs/darkmode.svg';\nimport { ReactComponent as Share } from '../svgs/share.svg';\nimport { primary, success, loading } from '../styles/constants';\nimport { ReducerTypes, useDarco } from '../DarcoContext';\nimport PDFBuilder from './PDFBuilder';\n\nconst buttonTexts = [\"Select PDF\", \"Convert\", \"Loading\", \"Download\"]\n\nconst Steps = () => {\n    const { state, dispatch } = useDarco()\n    const inputFile = useRef(null)\n\n    const onButtonClick = () => {\n        switch (state.step) {\n            case ReducerTypes.Idle:\n                inputFile.current.click()\n                break\n            case ReducerTypes.Ready:\n                dispatch({ type: ReducerTypes.Loading });\n                break;\n            case ReducerTypes.Download:\n                PDFBuilder(state.images, state)\n                break;\n            default:\n                break;\n        }\n\n    }\n    \n    const onFileChange = e => dispatch({ type: ReducerTypes.Idle, data: e.target.files[0] })\n\n    return (\n        <div style={{marginTop: 'auto'}}>\n            <Step finished={0 - state.step < 0}>\n                <Download fill={0 - state.step < 0 ? success : primary} />\n                <StepTextWrapper>\n                    <StepTitle>Select</StepTitle>\n                    <StepDescription>Choose from Files</StepDescription>\n                </StepTextWrapper>\n            </Step>\n            <Step finished={2 - state.step < 0} isLoading={state.step === 2}>\n                <DarkMode fill={2 - state.step < 0 ? success : state.step === 2 ? loading : primary}/>\n                <StepTextWrapper>\n                    <StepTitle>Convert</StepTitle>\n                    <StepDescription>Convert PDF to dark mode</StepDescription>\n                </StepTextWrapper>\n            </Step>\n            <Step  >\n                <Share fill={primary}/>\n                <StepTextWrapper>\n                    <StepTitle>Download</StepTitle>\n                    <StepDescription>Export PDF anywhere</StepDescription>\n                </StepTextWrapper>\n            </Step>\n            <ButtonWrapper>\n                <Button onClick={onButtonClick}>{buttonTexts[state.step]}</Button>\n            </ButtonWrapper>\n            <input type=\"file\" accept=\"application/pdf\" ref={inputFile} style={{ display: 'none' }} onChange={onFileChange} />\n        </div>\n    );\n}\n\nexport default Steps;\n\n// Styling\nconst Step = styled.div`\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: flex-start;\n    padding: 0;\n    margin-bottom: 2rem;\n    & > * {\n        margin-right: 1rem;\n    }\n    ${props => props.isLoading && `color: ${loading};`}\n    ${props => props.finished && `color: ${success};`}\n`\nconst StepTextWrapper = styled.div`\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n`\nconst StepTitle = styled.p`\n    font-weight: 600;\n    font-size: 1.2rem;\n    letter-spacing: -0.04rem;\n`\nconst StepDescription = styled.p`\n    font-weight: 400;\n    font-size: 1.2rem;\n    letter-spacing: -0.04rem;\n`\n\nconst ButtonWrapper = styled.div`\n    display: flex;\n    width: 100%;\n    justify-content: flex-start;\n    @media (max-width: 1000px) {\n        justify-content: center;\n    }\n`;","import React from 'react';\nimport { SidePanel} from '../styles';\nimport Steps from './Steps';\n\nconst StatusPanel = () => {\n    return (\n        <SidePanel style={{ gridArea: 'status'}}>\n            <Steps/>\n        </SidePanel>\n    );\n}\n\nexport default StatusPanel;\n","import PreviewPanel from './components/PreviewPanel';\nimport SettingsPanel from './components/SettingsPanel';\nimport StatusPanel from './components/StatusPanel';\nimport styled from 'styled-components';\nimport { Title } from './styles';\nimport React, { useRef } from 'react';\nimport useResizeObserver from '@react-hook/resize-observer';\nimport { ReducerTypes, useDarco } from './DarcoContext';\n\nconst AppContainer = styled.div`\n  display: grid;\n  grid-template-columns: 1fr 2fr 1fr;\n  grid-template-rows: 0.1fr 1.9fr;\n  gap: 1rem;\n  grid-template-areas:\n    \"title preview settings\"\n    \"status preview settings\";\n  @media (max-width: 1000px) {\n    grid-template-columns: 1fr 1fr;\n    grid-template-rows: 0.1fr 1.6fr 1.1fr;\n    grid-template-areas:\n    \"title title\"\n    \"preview settings\"\n    \"status status\";\n  }\n  padding: 4vw;\n  height: 100vh;\n  width: 100vw;\n  /* background-color: white; */\n`;\n\nconst useSize = (target) => {\n  const [size, setSize] = React.useState()\n\n  React.useLayoutEffect(() => {\n    setSize(target.current.getBoundingClientRect())\n  }, [target])\n\n  // Where the magic happens\n  useResizeObserver(target, (entry) => setSize(entry.contentRect))\n  return size\n}\n\n\nfunction App() {\n  const target = useRef(null)\n  const size = useSize(target)\n  // eslint-disable-next-line no-unused-vars\n  const { _, dispatch } = useDarco()\n\n  window.recieveDataFromSwift = data => {\n    alert(\"recieved pdf from swift!\");\n    dispatch({ type: ReducerTypes.Idle, data: data })\n  }\n  \n  return (\n    <AppContainer ref={target}>\n      <svg width=\"100vw\" height=\"100vh\" viewBox=\"0 0 100vw 100vh\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" className=\"bg\">\n        <rect width=\"100vw\" height=\"100vh\" fill=\"url(#paint0_radial)\"/>\n        <rect width=\"100vw\" height=\"100vh\" fill=\"url(#paint1_radial)\" />\n        <defs>\n          <radialGradient id=\"paint0_radial\" cx=\"0\" cy=\"0\" r=\"1\" gradientUnits=\"userSpaceOnUse\" gradientTransform={`translate(936.302 -59.7211) rotate(15.768) scale(798.116 506.722)`}>\n            <stop stopColor=\"#5856D6\" stopOpacity=\"0.72\" />\n            <stop offset=\"1\" stopOpacity=\"0\" />\n          </radialGradient>\n          <radialGradient id=\"paint1_radial\" cx=\"0\" cy=\"0\" r=\"1\" gradientUnits=\"userSpaceOnUse\" gradientTransform={`translate(1448.12 849.716) rotate(-159.161) scale(850.184 809.54)`}>\n            <stop stopColor=\"#AF52DE\" stopOpacity=\"0.41\" />\n            <stop offset=\"1\" stopColor=\"#2A1A87\" stopOpacity=\"0\" />\n          </radialGradient>\n        </defs>\n      </svg>\n      <Title>Darco</Title>\n      <StatusPanel />\n      <PreviewPanel width={size?.width} height={size?.height}/>\n      <SettingsPanel />\n    </AppContainer>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport DarcoProvider from './DarcoContext';\n\nReactDOM.render(\n  <React.StrictMode>\n    <DarcoProvider>\n      <App />\n    </DarcoProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}